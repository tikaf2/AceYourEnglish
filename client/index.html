<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta content="width=device-width, initial-scale=1.0" name="viewport" />
        <meta content="" name="description" />
        <meta content="" name="keywords" />

        <!-- Google Fonts -->
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet" />

        <!-- Vendor CSS Files -->
        <link href="assets/vendor/animate.css/animate.min.css" rel="stylesheet" />
        <link href="assets/vendor/aos/aos.css" rel="stylesheet" />
        <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
        <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet" />
        <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet" />
        <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet" />
        <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet" />

        <!-- Template Main CSS File -->
        <link href="style.css" rel="stylesheet" />
    </head>

    <body>
        <!-- ======= Header ======= -->
        <header id="header" class="fixed-top">
            <div class="container d-flex align-items-center">
                <h1 class="logo me-auto"><a href="index.html">AceYourEnglish</a></h1>
                <nav id="navbar" class="navbar order-last order-lg-0">
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a class="active" href="courses.html">Courses</a></li>
                        <li><a href="events.html">Quiz</a></li>
                        <li><a href="trainers.html">Mentor</a></li>
                        <li id="profile-menu" style="display: none"><a href="profile.html">Profile</a></li>
                    </ul>
                </nav>
                <!-- .navbar -->

                <a id="login-btn" href="login.html" class="get-started-btn">Login</a>
                <button id="logout-btn" class="get-started-btn" style="display: none">Logout</button>
            </div>
        </header>

        <!-- ======= Hero Section ======= -->
        <section id="hero" class="d-flex justify-content-center align-items-center">
            <div class="container position-relative" data-aos="zoom-in" data-aos-delay="100">
                <h1>Embrace English Excellence<br />with AceYourEnglish</h1>
                <a href="courses.html" class="btn-get-started">Profil</a>
            </div>
        </section>
        <!-- End Hero -->

        <main id="main">
            <!-- ======= About Section ======= -->
            <section id="about" class="about">
                <div class="container" data-aos="fade-up">
                    <div class="row">
                        <div class="col-lg-6 order-1 order-lg-2" data-aos="fade-left" data-aos-delay="100">
                            <img src="assets/img/home2.png" class="img-fluid" alt="" />
                        </div>
                        <div class="col-lg-6 pt-4 pt-lg-0 order-2 order-lg-1 content">
                            <p>AceYourEnglish merupakan Platform belajar bahasa Inggris yang memudahkan generasi muda untuk mengolah kosa kata bahasa</p>
                            <p>AceYourEnglish.com menyediakan akses ke beragam materi bahasa Inggris dari berbagai jenjang, mulai dari pemula hingga tingkat lanjutan.</p>
                        </div>
                    </div>
                </div>
            </section>
            <!-- End About Section -->

            <!-- ======= Popular Courses Section ======= -->
            <section id="popular-courses" class="courses">
                <div class="container" data-aos="fade-up">
                    <div class="section-title">
                        <h2>Courses</h2>
                        <p>Popular Courses</p>
                    </div>

                    <div class="row" data-aos="zoom-in" data-aos-delay="100" id="listCourse"></div>
                </div>
            </section>
            <!-- End Popular Courses Section -->
        </main>
        <!-- End #main -->

        <!-- ======= Footer ======= -->
        <footer id="footer">
            <div class="footer-top">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-3 col-md-6 footer-contact">
                            <h3>AceYourEnglish</h3>
                        </div>

                        <div class="col-lg-2 col-md-6 footer-links">
                            <h4>Useful Links</h4>
                            <ul>
                                <li><i class="bx bx-chevron-right"></i> <a href="#">Home</a></li>
                                <li><i class="bx bx-chevron-right"></i> <a href="#">Courses</a></li>
                                <li><i class="bx bx-chevron-right"></i> <a href="#">Quiz</a></li>
                                <li><i class="bx bx-chevron-right"></i> <a href="#">Mentor</a></li>
                                <li><i class="bx bx-chevron-right"></i> <a href="#">Profil</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="container d-md-flex py-4">
                <div class="me-md-auto text-center text-md-start">
                    <div class="copyright">&copy; Copyright AceYourEnglish. All Rights Reserved</div>
                </div>
            </div>
        </footer>

        <div id="preloader"></div>
        <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

        <!-- Vendor JS Files -->
        <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
        <script src="assets/vendor/aos/aos.js"></script>
        <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
        <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
        <script src="assets/vendor/php-email-form/validate.js"></script>

        <!-- Template Main JS File -->
        <script src="assets/js/main.js"></script>
        <script src="assets/js/jquery.js"></script>
        <script src="middleware/is-login.js"></script>
        <script>
            $(document).ready(function () {
                const authToken = localStorage.getItem('auth_token');

                $.ajax({
                    type: 'GET',
                    url: 'http://127.0.0.1:8000/api/courses',
                    headers: {
                        Authorization: `Bearer ${authToken}`,
                    },
                    success: function (response) {
                        $.each(response.result, function (index, course) {
                            const courseItem = `
                            <div class="col-lg-4 col-md-6 d-flex align-items-stretch">
                                <div class="course-item">
                                    <img src="assets/img/${course.image}" class="img-fluid" alt="..." />
                                    <div class="course-content">
                                        <h3><a href="course-details.html?id=${course.id}">${course.name}</a></h3>
                                        <p>${course.description}</p>
                                        <div class="trainer d-flex justify-content-between align-items-center">
                                            <div class="trainer-profile d-flex align-items-center">
                                                <img src="assets/img/${course.mentor.image}" class="img-fluid" alt="" style="width: 50px; height: 50px"/>
                                                <span>${course.mentor.name}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `;

                            $('#listCourse').append(courseItem);
                        });
                    },
                    error: function (xhr, status, error) {
                        const code = xhr.status;

                        if (code === 401 || code === 500) {
                            localStorage.removeItem('auth_token');
                            window.location.href = './login.html';
                        }
                    },
                });
            });
        </script>
    </body>
</html>
